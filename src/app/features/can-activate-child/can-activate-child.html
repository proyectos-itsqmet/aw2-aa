<div
  class="bg-white dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl p-8 md:p-10"
>
  <h1 class="text-4xl text-center font-black text-white tracking-tight leading-[1.1] mb-8">
    CanActivateChild
  </h1>
  <p class="text-xl text-center text-slate-400 leading-relaxed mb-12 max-w-2xl mx-auto">
    Es una interfaz de Angular que permite a una clase actuar como guardia de las rutas hijas.
    Cuando se declara en la propiedad canActivateChild de una ruta padre, el método
    canActivateChild() se ejecutará cada vez que el usuario intente navegar a cualquiera de las
    rutas hijas de ese padre.
  </p>
</div>

<div class="flex-1 flex flex-col items-center">
  <section class="w-full max-w-7xl px-6 py-24 border-t border-white/5">
    <div class="text-center mb-16">
      <h2 class="text-4xl font-extrabold text-white mb-4">¿Para qué sirve?</h2>
      <p class="text-lg text-slate-400 max-w-2xl mx-auto">
        Se utiliza cuando quieres proteger múltiples rutas hijas sin repetir validaciones en cada
        una.
      </p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div
        class="glass-card p-8 rounded-2xl border-l-4 border-l-main hover:-translate-y-1 transition-all"
      >
        <div class="text-main mb-4">
          <ng-icon name="ionLayersSharp" class="text-white" size="20"></ng-icon>
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Paneles Administrativos</h3>
        <p class="text-slate-400 text-sm">
          Gestiona el acceso total a todas las herramientas de gestión desde un único punto de
          control.
        </p>
      </div>
      <div
        class="glass-card p-8 rounded-2xl border-l-4 border-l-main hover:-translate-y-1 transition-all"
      >
        <div class="text-main mb-4">
          <ng-icon name="ionLockClosed" class="text-white" size="20"></ng-icon>
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Secciones Privadas</h3>
        <p class="text-slate-400 text-sm">
          Ideal para perfiles de usuario, configuraciones de cuenta y zonas de facturación.
        </p>
      </div>
      <div
        class="glass-card p-8 rounded-2xl border-l-4 border-l-main hover:-translate-y-1 transition-all"
      >
        <div class="text-main mb-4">
          <ng-icon name="ionGitCompare" class="text-white" size="20"></ng-icon>
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Módulos Complejos</h3>
        <p class="text-slate-400 text-sm">
          Protege jerarquías completas de subrutas de manera eficiente y escalable.
        </p>
      </div>
    </div>
  </section>

  <section class="flex-1 flex flex-col items-center mb-20">
    <div>
      <h2 class="text-4xl text-center font-extrabold text-white mb-12 tracking-tight">
        ¿Cómo funciona?
      </h2>
      <div class="space-y-12">
        <div class="flex gap-8 relative">
          <div class="absolute left-6 top-12 bottom-12 w-px bg-white/10 hidden md:block"></div>
          <div
            class="shrink-0 w-12 h-12 rounded-2xl bg-linear-to-br from-main to-main/50 flex items-center justify-center font-black text-xl text-white step-glow z-10"
          >
            <ng-icon name="ionAnalytics" class="text-white" size="20"></ng-icon>
          </div>
          <div>
            <h4 class="text-xl font-bold text-white mb-2">Fase de Intercepción</h4>
            <p class="text-slate-400 leading-relaxed">
              Antes de activar cualquier ruta hija, el guard actúa como un middleware inteligente
              que evalúa la navegación entrante.
            </p>
          </div>
        </div>
        <div class="flex gap-8 relative">
          <div class="absolute left-6 top-12 bottom-12 w-px bg-white/10 hidden md:block"></div>
          <div
            class="shrink-0 w-12 h-12 rounded-2xl bg-linear-to-br from-main to-main/50 flex items-center justify-center font-black text-xl text-white step-glow z-10"
          >
            <ng-icon name="ionList" class="text-white" size="20"></ng-icon>
          </div>
          <div>
            <h4 class="text-xl font-bold text-white mb-2">Evaluación de Lógica</h4>
            <p class="text-slate-400 leading-relaxed">
              Ejecuta validaciones asíncronas o síncronas: verifica tokens JWT, roles de usuario
              (ej: 'ADMIN') o estados de suscripción.
            </p>
          </div>
        </div>
        <div class="flex gap-8">
          <div
            class="shrink-0 w-12 h-12 rounded-2xl bg-linear-to-br from-main to-main/50 flex items-center justify-center font-black text-xl text-white step-glow z-10"
          >
            <ng-icon name="ionShieldCheckmark" class="text-white" size="20"></ng-icon>
          </div>
          <div>
            <h4 class="text-xl font-bold text-white mb-4">Determinación de Acceso</h4>
            <div class="grid grid-cols-2 gap-4">
              <div
                class="p-4 rounded-xl bg-green-500/5 border border-green-500/20 group hover:bg-green-500/10 transition-colors"
              >
                <div class="flex items-center gap-2 text-green-400 font-bold mb-1">
                  <ng-icon name="ionCheckmarkCircle" class="text-white" size="20"></ng-icon>
                  <span>True</span>
                </div>
                <span class="text-xs text-slate-400 uppercase tracking-wider">Permitir Acceso</span>
              </div>
              <div
                class="p-4 rounded-xl bg-main/5 border border-main/20 group hover:bg-main/10 transition-colors"
              >
                <div class="flex items-center gap-2 text-main font-bold mb-1">
                  <ng-icon name="ionCloseCircle" class="text-white" size="20"></ng-icon>
                  <span>False</span>
                </div>
                <span class="text-xs text-slate-400 uppercase tracking-wider"
                  >Bloquear / Redirigir</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="flex-1 flex flex-col items-center mb-20">
    <div class="glass-card rounded-3xl p-1 w-full overflow-hidden">
      <div class="p-8">
        <div class="flex items-center justify-between mb-8">
          <h3 class="text-2xl font-bold text-white flex items-center gap-3">
            <ng-icon name="ionCode" class="text-white" size="20" class="mt-1"></ng-icon>
            Caso práctico
          </h3>
        </div>
        <div class="code-glass rounded-2xl overflow-hidden shadow-2xl">
          <div
            class="flex items-center justify-between px-5 py-3 bg-white/5 border-b border-white/5"
          >
            <div class="flex gap-2">
              <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
              <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
              <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
            </div>
            <span class="text-xs font-mono text-slate-500">app.routes.ts</span>
          </div>
          <div class="p-6 font-mono text-sm leading-relaxed overflow-x-auto whitespace-nowrap">
            <div><span class="text-slate-500">&#123;</span></div>
            <div class="pl-6">
              <span class="text-slate-400">path</span>: <span class="text-main">''</span>,
            </div>
            <div class="pl-6">
              <span class="text-slate-400">component</span>:
              <span class="text-yellow-500">Home</span>,
            </div>
            <div class="pl-6">
              <span class="text-slate-400">canActivateChild</span>: [<span class="text-yellow-500"
                >authGuardChildGuard</span
              >],
            </div>
            <div class="pl-6"><span class="text-slate-400">children</span>: [</div>
            <div class="pl-12"><span class="text-slate-500">&#123;</span></div>
            <div class="pl-16">
              <span class="text-slate-400">path</span>:
              <span class="text-main">'can-activate-child'</span>,
            </div>
            <div class="pl-16">
              <span class="text-slate-400">component</span>:
              <span class="text-yellow-500">CanActivateChild</span>,
            </div>
            <div class="pl-12"><span class="text-slate-500">&#125;</span>,</div>
            <div class="pl-6">],</div>
            <div><span class="text-slate-500">&#125;</span></div>
          </div>
        </div>
        <div class="mt-8 space-y-4">
          <p class="text-xs font-bold text-slate-500 uppercase tracking-widest px-1">
            Simulación de Acceso:
          </p>
          <div class="flex flex-col gap-3">
            <div
              class="flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5 hover:border-white/20 transition-all cursor-pointer group"
            >
              <div class="flex items-center gap-4">
                <div
                  class="w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center text-green-400"
                >
                  <ng-icon name="lucideUser" class="text-white" size="20"></ng-icon>
                </div>
                <div>
                  <p class="text-sm font-bold text-white">Usuario: Registrado</p>
                  <p class="text-[10px] text-slate-500 uppercase">Con Sesión</p>
                </div>
              </div>
              <div class="flex items-center gap-3">
                <div class="h-1.5 w-12 bg-white/5 rounded-full overflow-hidden">
                  <div
                    class="h-full w-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"
                  ></div>
                </div>
                <span class="text-xs font-bold text-green-400">TRUE</span>
              </div>
            </div>
            <div
              class="flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5 hover:border-white/20 transition-all cursor-pointer group"
            >
              <div class="flex items-center gap-4">
                <div
                  class="w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center text-red-400"
                >
                  <ng-icon name="lucideUserX" class="text-white" size="20"></ng-icon>
                </div>
                <div>
                  <p class="text-sm font-bold text-white">Usuario: Invitado</p>
                  <p class="text-[10px] text-slate-500 uppercase">Sin Sesión</p>
                </div>
              </div>
              <div class="flex items-center gap-3">
                <div class="h-1.5 w-12 bg-white/5 rounded-full overflow-hidden">
                  <div class="h-full w-0 bg-red-500 shadow-[0_0_8px_rgba(221,0,49,0.5)]"></div>
                </div>
                <span class="text-xs font-bold text-red-400">FALSE</span>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-8 pt-6 border-t border-white/5 flex items-start gap-3">
          <ng-icon name="ionAlertCircle" class="text-white" size="20"></ng-icon>
          <p class="text-xs text-slate-500 leading-relaxed italic">
            Al centralizar la protección en la raíz del módulo, garantizas que cualquier nueva
            subruta herede automáticamente las reglas de seguridad sin configuración adicional.
          </p>
        </div>
      </div>
    </div>
  </section>
</div>
